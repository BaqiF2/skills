# 文件头文档规范

## 规则说明

所有代码文件（.ts, .js, .tsx, .jsx 等）必须在文件顶部包含规范的文档注释，说明文件的功能、核心类/方法及其作用。

## 强制要求

每个代码文件的头部必须包含以下信息：

### 1. 文件功能说明
简要描述该文件的主要职责和提供的功能（1-3 句话）。

### 2. 核心导出列表
列出文件中导出的核心类、方法、常量等。

### 3. 作用说明
为每个核心类和方法提供简短的作用说明（一句话概括即可）。

## 文档格式示例

### TypeScript 文件示例

```typescript
/**
 * 文件功能：会话管理模块，负责创建、保存、加载和清理用户会话
 *
 * 核心类：
 * - SessionManager: 会话生命周期管理器
 *
 * 核心方法：
 * - createSession(): 创建新会话实例
 * - loadSession(): 从磁盘加载指定会话数据
 * - saveSession(): 持久化会话到本地存储
 * - cleanExpiredSessions(): 清理过期会话
 * - resumeSession(): 恢复现有会话并支持 SDK 会话续接
 */

export class SessionManager {
  // 实现代码...
}
```

### JavaScript 文件示例

```javascript
/**
 * 文件功能：工具函数集合，提供字符串处理、日期格式化等通用功能
 *
 * 核心方法：
 * - formatDate(): 将日期格式化为指定字符串格式
 * - sanitizeInput(): 清理用户输入，移除危险字符
 * - parseTemplate(): 模板变量替换
 */

export function formatDate(date, format) {
  // 实现代码...
}
```

## 适用范围

- 所有 src/ 目录下的源代码文件
- 测试文件（tests/）可使用简化版本，但仍需说明测试的主要目标
- 配置文件和脚本建议添加但不强制

## 检查清单

在提交代码前，确保：
- [ ] 文件头包含功能说明
- [ ] 列出了所有核心导出（类、方法、常量）
- [ ] 每个核心导出都有简短的作用说明
- [ ] 文档与实际代码保持同步

## 注意事项

- 文档应简洁明了，避免冗长描述
- 当文件内容发生重大变更时，必须同步更新文件头文档
- 对于复杂的类和方法，可在类/方法定义处添加更详细的 JSDoc/TSDoc 注释
